# C-HASH-P — Canonical Hashed Protocol (v0.1)

> Supporting sovereign authorship and verifiable intent in **UNIVERSE.DAO**
> Version `v0.1` — Phase 1 is in-progress and partially implemented

---

<br>

## Glossary

| Term          | Meaning                                                                                             |
| ------------- | --------------------------------------------------------------------------------------------------- |
| **C-HASH**    | Canonical Identity Hash — SHA256 of the full identity block saved as a `.chp` file                  |
| **.chp**      | Canonical Hash Protocol — `.chp` is a declaration file (plain `.txt`) containing identity metadata  |
| **ChM**       | Canonical Hashed Message — same as `ChM-HASH:`; SHA256 of full message body *including* `C-HASH`    |
| **ChM-X.txt** | Canonical Message Log File — contains `ChM-HASH:` and the full human-readable message               |
| **CHP-UI**    | Canonical Protocol Interface — optional frontend to show signature status, quorum, and verification |

---

<br>

## Purpose

This repository defines the **canonical identity protocol** that powers `UNIVERSE.DAO-SIG`. It enables cryptographic authorship, quorum-based validation, and long-term signature verification across Ethereum, Bitcoin, and GitHub.

All identities are stored as human-readable `.chp` files. The corresponding `C-HASH` is generated by taking the SHA256 of the exact plain-text content — enabling full transparency and auditability.

---

<br>

## Folder Structure

```plaintext
C-HASH-P/
├── CHP/
│   ├── CHP-Ignition     # Ignition hash ritual
│   ├── CHP-v1           # The current identity block content, as hashed
│   └── OVERVIEW         # Overview of version and C-HASH output metadata
│
├── protocol/            # Identity declaration files (.chp)
│   ├── eth/alice.chp
│   ├── btc/alice.chp
│   └── github/alice.chp
│
├── messages/            # Canonical message files
│   ├── ChM-1.txt
│   └── ChM-2.txt
│
├── verify/              # Validation scripts (CLI, checks, etc.)
│   └── validate_hash.py
│
├── c-hashes/            # Optional: cached C-HASH values for fast lookup
│   └── v1.0.cache
│
├── signatures/          # Signature proof logs from ETH, BTC, GitHub
│   ├── SIG1_BTC.txt
│   ├── SIG2_ETH.txt
│   └── SIG3_GITHUB.txt
│
├── ui/                  # ChP-UI: Optional visual quorum verification tool
│   └── index.html
│
└── README.md
```

---

<br>

## Components

### 1. `protocol/` — Identity Declaration Files (`.chp`)

Each `.chp` file contains:

* Timestamp
* Signer metadata
* Public keys and addresses
* Signature verification links

→ `C-HASH` is generated as `SHA256` of this exact plain text block.

Example output:
`C-HASH: 8e3a72b3...`

---

### 2. `messages/` — Canonical Messages (`ChM-x.txt`)

Each canonical message file includes:

* `ChM-HASH:` — `SHA256(message body + embedded C-HASH)`
* `C-HASH:` — must be embedded inside the message, not as external metadata
* Message content — DAO proposals, declarations, intents

> ⚠️ The C-HASH must be inside the body before computing `ChM-HASH`. This guarantees the signer identities are included in the signed payload.

---

### 3. `verify/` — Scripts to validate `.chp`, `C-HASH`, and `ChM` integrity

### 4. `c-hashes/` — Cached identity hash files per version (optional)

### 5. `ui/` — ChP-UI (Visual Quorum Checker)

Displays:

* Message ID and hash
* Channel-based signer status (ETH, BTC, GitHub)
* Quorum resolution (e.g. 2 of 3 signatures complete)

---

<br>

## Phases and Versioning

| Phase | Capability Description                                 | DAO-SIG Version |
| ----- | ------------------------------------------------------ | --------------- |
| 1     | Pubkey-based identity, quorum logic, verification UI   | v0.1 → v1.0     |
| 2     | Multisig identities for ETH/BTC/GitHub per signer      | v2.0            |
| 3     | Blockchain timestamping, ZK ID, quantum-ready upgrades | v3.0+           |

New signer identities (e.g. new public key) trigger a new `C-HASH` and bump the minor version (e.g. `v1.1 → v1.2`).

---

<br>

## Identity File Example (`.chp`)

```txt
CHP-v1

Purpose: Authenticity Signature Proof of UNIVERSE.DAO  
UTC: 2025-05-16 14:30  
Hash Method: SHA256 of canonical plain text (ChM + identity block)  
Hashed Message Destination: UNIVERSE-DAO/C-HASH-P/messages/

[BTC]  
Address: 1xyz789...  
PubKey: 03f9ef...  
URL: ud.me/universe.dao  

[ETH]  
Address: 0xabc123...  
PubKey: 04abcd...  
URL: ud.me/universe.dao  

[GitHub]  
Username: alice-id  
URL: https://universe.dao/log/ChM-3
```

---

<br>

## Canonical Message Example (`ChM-3.txt`)

```txt
ID: ChM-3

ChM-HASH: d2f9c77e...
C-HASH: 9a34b8cc...

Message:
We propose the upgrade to Phase 2 using multisig signatures for all signer channels...
```

---

<br>

## Signature Flow

1. Identity files (`.chp`) are authored → `C-HASH` is generated
2. Message files (`ChM-x.txt`) are composed with embedded C-HASH → `ChM-HASH` is calculated
3. Contributors sign the `ChM-HASH` (ETH, BTC, GitHub)
4. External or mirrored proof (e.g. GitHub verifier) is published
5. Scripts or `ChP-UI` verify quorum and hash integrity

---

<br>

## Status

* [x] Identity file format (`.chp`)
* [x] Canonical message structure (`ChM-x.txt`)
* [ ] CLI automation for hash + signature generation
* [ ] ChP-UI (signature visualization)

---

<br>

## See Also

* [UNIVERSE.DAO-SIG](https://github.com/UNIVERSE-DAO/UNIVERSE/tree/main/0%20DAO%20-%20Layer%20Zero/0.1%20SIGNATURE)

Versioned logic, sample messages, and tooling to follow.
